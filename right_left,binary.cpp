#include<iostream>

#include<NTL/ZZ.h>
#include<vector>
#include<bits/stdc++.h>

using namespace std;
using namespace NTL;


ZZ modulo(ZZ a, ZZ b){
    ZZ q= a/b;
    ZZ r= a-(q*b);

    if (a < ZZ(0)){
        ZZ aux = r;
        r = b+aux;
    }

    return r;

}



ZZ derecha_izquierda(ZZ a, ZZ b, ZZ mod){

    if (mod ==1){
        return ZZ(0);
    }

        ZZ salida= ZZ(1);
        a = modulo(a,mod);
        while(b > 0){
            if (modulo(b,ZZ(2))== 1){
                salida = modulo((salida*a),mod);
            }
            b = b >> 1;
            a = modulo((a*a),mod);
        }
        return salida;
}



int main(){

ZZ a = conv <ZZ>("104029474696978551296745911647461478447377262141233007324842706603013766646132903737169246082085473675258414804092661712144601821380643288325453266359976635394918520540919173690936640306678879304450132337937859055222131187272009446427414395024025744356925893915342082519302712644161980439039887815859484309994");
ZZ p = conv<ZZ>("175063550064746901584423159058882187217574402543678530398466861062843473113331138636292935943386938076141351793138339780242410031080258710993643278080497816075534483308144505929953417831086418852164290303698679400230709105122705567655425643279529825328028880521696553911293471669149608716499786349304732907911");
ZZ n = conv<ZZ>("137188493677867847845007684882673043819687516726635345533436186340002298670712591208012354351030484928251697926758774131375887892901923416482641434957647979995085594715968827716438090298976179084172447673533266406892366137182031688335226927764278846998513849084318802954293809505209322448025416437500824793803");

cout << derecha_izquierda(a,p,n);

}
